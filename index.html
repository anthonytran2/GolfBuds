<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0" >
		<link rel="icon" type="image/png" href="images/favicon-32x32.png" sizes="32x32" />
		<title>GolfBuds</title>
		<!-- Bootstrap -->
		<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">	  
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>	 
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="js/bootstrap.js"></script>
		<link href="css/bootstrap.css" rel="stylesheet">
		<script>
			$(document).ready(function(){
				$(this).scrollTop(0);
				
				window.onload = function() {
					var inputs, index;

					inputs = document.getElementsByTagName('input');
					for (index = 0; index < inputs.length; ++index) {
						if(inputs[index].type !== "button" && inputs[index].type !== "submit" && inputs[index].type !== "checkbox" && inputs[index].id !== "email") inputs[index].value = '';
					}
				}
			});
		</script>
	
		<script>
			/*SCRIPTS FOR LOGIN SECTION*/
					
			/*Script for sliding down login section and bring up the register section*/
				$(document).ready(function(){
					$("#registerButton2nd").click(function(){
						$("#loginPanel").slideUp();
						$("#registerPanel").slideDown();
					});
			   });
					
			/*Script for sliding down login section and bring up the forgot your password page*/
				$(document).ready(function(){
					$("#forgotPassButton").click(function(){
						$("#loginPanel").slideUp();
						$("#forgotPassPanel").slideDown();
					});
			   });			
					

			/*Script for sliding down login panel to reveal guest register*/		
				$(document).ready(function(){
					$("#guestFromRegisterButton2nd").click(function(){
						$("#loginPanel").slideUp();
						$("#guestRegisterPanel").slideDown();
					});
			   });		
			/*SCRIPTS FOR REGISTER SECTION*/		
					
			/*Script for sliding down register section and bring up the login page*/
				$(document).ready(function(){
					$("#loginFromRegisterButton2nd").click(function(){
						$("#registerPanel").slideUp();
						$("#loginPanel").slideDown();
					});
			   });
				
					
			/*Script for sliding down guest login and revealing login*/		
				$(document).ready(function(){
					$("#loginFromGuestRegisterButton2nd").click(function(){
						$("#guestRegisterPanel").slideUp();
						$("#loginPanel").slideDown();
					});
			   });
					
			/*SCRIPTS FOR FORGOT YOUR PASSWORD SECTION*/
					
			/*Script for sliding down forgot Password section and bring up the login page*/
				$(document).ready(function(){
					$("#loginFromForgotPassButton2nd").click(function(){
						$("#forgotPassPanel").slideUp();
						$("#loginPanel").slideDown();
					});
			   });
					
			/*Script for sliding down login section and bring up the forgot your password page*/
				$(document).ready(function(){
					$("#registerFromForgotPassButton2nd").click(function(){
						$("#forgotPassPanel").slideUp();
						$("#registerPanel").slideDown();
					});
			   });		
		</script>		
	</head>
   
	<body style="padding-top: 5px">  
		<div id="wrapper">
			<div class="navbarTopFixed">
				<nav class="navbar navbar-default navbar-fixed-top">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#topFixedNavbar1" aria-expanded="false"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
						<a href="index.html" class="navbar-brand"><img src="images/GB_Icon1_noShadow.png" id="gbLogo"></a>
					</div>
					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse" id="topFixedNavbar1">
						<ul class="nav navbar-nav navbar-right">
							<li><a href="contactUs.html">Contact</a></li>
							<li><a href="aboutUs.html" style="margin-right: 30px;">About</a></li>
						</ul>
					</div>
				</nav>
			</div>
		   
			<!-- BANNER CAROUSEL-->
			<div id="carousel1" class="carousel slide" data-ride="carousel" data-interval="8000" style="margin: 0px 10px;">
				<div class="carousel-inner" role="listbox">
					<div class="item active"><img src="images/golflighter.jpg" alt="First slide image" class="center-block">
						<div class="carousel-caption">
							<h3 class="banner">Join Today!</h3>
							<p class="banner">Start your day with a GolfBuds!</p>
						</div>
					</div>
					<div class="item"><img src="images/IMG-Academies.jpg" alt="Second slide image" class="center-block">
						<div class="carousel-caption">
							<h3 class="banner">Nearby Golf Courses</h3>
							<p class="banner">Find a Golf Course that fits you!</p>
						</div>
					</div>
					<div class="item"><img src="images/Slide_2.jpg" alt="Third slide image" class="center-block">
						<div class="carousel-caption">
							<h3 class="banner">Satisfaction Guaranteed!</h3>
							<p class="banner">Once you become a GolfBud, you'll never want to stop!</p>
						</div>
					</div>
				</div>
				<a class="left carousel-control" href="#carousel1" role="button" data-slide="prev"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span><span class="sr-only">Previous</span></a><a class="right carousel-control" href="#carousel1" role="button" data-slide="next"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span><span class="sr-only">Next</span></a>
			</div>
		   
			 
			<!-- Account Login and Registration-->
			<div id="registerDiv" class="container-fluid">
				<!--Code for the register section -->
				<form id="registerForm">			 
					<div class="registerForm" id="registerPanel">
						<div id="userInput">
							<h3 id="registerH3" class="registerH3">Register</h3>
							<div class="column">
								<div>
									<label>First Name</label>
									<input type="text" name="firstname" />
								</div>
								<div>
									<label>Last Name</label>
									<input type="text" name="lastname"/>
								</div>								
								<div>
									<label>Email</label>
									<input type="text" name="em" />
								</div>
							</div>
							<div class="column">
								<div>
									<label>Password</label>
									<input type="password" name="passW"/>
								</div>
								<div>
									<label>Re-enter Password</label>
									<input type="password" name="passWConfirm"/>
								</div>
							</div>
							<div id="registerBottom" class="bottom" style="height: 153px;">
								<button id="registerSubmitButton" type="button"/>Register</button>
								<input id="loginFromRegisterButton2nd" href="#" type="button" rel="login" value="Login" class="linkform"></input>									
							</div>
						</div>
					</div>	
				</form>
					
				<!-- modal for the permanent user registration -->
				<form id="registerForm2">	 		
					<div id="registerModal" class="modal-content">
						<div class="modal-content"> 
							<div class="modal-header">
								<span class="close" style="color: black; float: right;">&times;</span>
								<h3>Preferences</h3>
							</div>
						  
						   <!-- modal content for the questions about the user's interests -->
							<div class="modal-body">
								<div class="modalColumn">
									<label>Do you prefer Smoking?</label>
									<div class="modalQuestion1">
										<input type="radio" name="question1" value="1">&nbsp;Yes</input>
										<input type="radio" name="question1" value="2">&nbsp;no</input>
									</div>
									<label>Do you prefer Gambling?</label>
									<div class="modalQuestion2">
										<input type="radio" name="question2" value="1">&nbsp;Yes</input>
										<input type="radio" name="question2" value="2">&nbsp;No</input>
									</div>
								</div>
							  
								<div>
									<label>Do you prefer Drinking?</label>
									<div class="modalQuestion3">
										<input type="radio" name="question3" value="1">&nbsp;Yes</input>
										<input type="radio" name="question3" value="2">&nbsp;No</input>
									</div>
								  
									<label>Do you prefer Music?</label>
									<div class="modalQuestion4">
										<input type="radio" name="question4" value="1">&nbsp;Yes</input>
										<input type="radio" name="question4" value="2">&nbsp;No</input>
									</div>
								</div>
							</div>				

							<!-- modal footer contains the register button	 -->
							<div class="modal-footer">
								<h3><input type="submit" value="Register" id="submitRegisterButton"/></h3>
							</div>
						</div>
					</div>		
				</form>	
						
				<!-- Code for the Login section-->
				<div class="loginContent" id="loginPanel">
					<form id="loginForm">
						<div id="userInput">
							<h3 id="loginH3">Login</h3>
							<div>
								<!-- Change from requiring username to requiring email so that have one less thing thing to check if its unique or not.-->
								<input type="text" placeholder="Email" name="em" id="email"/>
							</div>
							<div>
								<input type="password" placeholder="Password" name="pword"/><br/>
								<a id="forgotPassButton" href="#" rel="forgot_password" class="forgotPassButton">Forgot password</a>
							</div>
							<div id="loginBottom" class="bottom">
								<div class="remember"><input type="checkbox" name="checkbox" id="checkbox"/><span>Remember Me</span></div>
								<input type="submit" value="Login" id="loginFormBut"></input>
								<input id="registerButton2nd" href="#" type="button" rel="register" value="Register" class="linkform"></input>
								<div class="clear"></div>
							</div>
						</div>	
					</form>	
				 </div>
					<!--Code for the forgot your password section -->
					<div class="forgotPassword" id="forgotPassPanel">
						<form id="forgotPassForm">
							<div id="userInput">
								<h3 id="forgotPassH3">Forgot Password</h3>
								<div>
									<label>Email</label>
									<input type="text" name="em"/>
								</div>
								<div id="forgotPassBottom" class="bottom">
									<input type="submit" value="Send reminder" id="submitForgotPassButton"></input>
									<input id="loginFromForgotPassButton2nd" href="#" type="button" rel="login" value="Login" class="linkform"></input>
									<input id="registerFromForgotPassButton2nd" href="#" type="button" rel="register" value="Register" class="linkform"></input>
									<div class="clear"></div>
								</div>
							</div>
						</form>
					</div>	 
				</div>
			</div>
			
			<!-- The Modal -->	
			<!--Container-fluid is the div for our content in between deal scroller, login, and our footer.
				Bulk of content will probably be in this section.-->  
			
			<div class="container-fluid">	
				<!--List of the content images-->	
				<ul class="contentColumns" data-columns="2">
					<li class="contentImagesList">
						<div id="contentImages" class="contentImages"><img src="images/contentGolfImg.jpg">
							<div class="contentTextHover">
								<div class="contentText">
									<h3>Ready to Golf?</h3>
									<p>Nulla tincidunt accumsan nibh. Fusce vitae scelerisque dui. Nulla ac sapien urna.</p>				
								</div>
							</div>
						</div>
					</li>
					<li class="contentImagesList">
						<div id="contentImages" class="contentImages"><img src="images/contentGolfImg2.jpg">
							<div class="contentTextHover">
								<div class="contentText">
									<h3>Ready to Golf?</h3>
									<p>Phasellus vitae posuere arcu, sed semper velit. Curabitur scelerisque ex nec leo pharetra aliquet. Mauris pretium blandit odio, in posuere urna auctor in.</p>					
								</div>
							</div>
						</div>
					</li>
					<li class="contentImagesList">
						<div id="contentImages" class="contentImages"><img src="images/contentGolfImg3.jpg">
							<div class="contentTextHover">
								<div class="contentText">
									<h3>Ready to Golf?</h3>
									<p>Curabitur in nulla eros. Suspendisse ultrices mollis magna a rutrum.</p>
								</div>
							</div>
						</div>
					</li>  
					<li class="contentImagesList">
						<div id="contentImages" class="contentImages"><img src="images/contentGolfImg5.jpg">
							<div class="contentTextHover">
								<div class="contentText">
									<h3>Ready to Golf?</h3>
									<p>Aenean vitae dui dapibus, dictum odio in, cursus est.</p>				
								</div>
							</div>
						</div>
					</li>
					<li class="contentImagesList">
						<div id="contentImages" class="contentImages"><img src="images/contentGolfImg6.jpg">
							<div class="contentTextHover">
								<div class="contentText">
									<h3>Ready to Golf?</h3>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>				
								</div>
							</div>
						</div>
					</li>
					<li class="contentImagesList">
						<div id="contentImages" class="contentImages"><img src="images/contentGolfImg4.jpg">
							<div class="contentTextHover">
								<div class="contentText">
									<h3>Ready to Golf?</h3>
									<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>					
								</div>
							</div>
						</div>
					</li>   
				</ul>	

			<!--This is the footer section -->
			<footer class="col-lg-12">
				<div class="footer-container">
					<div id="about_us">
						<h3><b>About</b></h3>
						<ul style="list-style: none; font-size: 10px;">
							<a href="aboutUs.html"><li>Who are we?</li></a>
						</ul>
					</div>
					<div id="contacts">
						<h3><b>Contact</b></h3>
						<ul style="list-style: none; font-size: 10px;">
							<li>Call us 1-800-Golf-Bud</li>
							<a href="contactUs.html"><li>Get in touch with us</li></a>			
						</ul>
					</div>
					<div id="get_started">
						<h3><b>Get Started</b></h3>
						<ul style="list-style: none; font-size: 10px;">
							<a href="index.html"><li>Login/Register</li></a>
							<a href="index.html"><li>Try us out as a guest</li></a>
							<a href="contactUs.html"><li>Want to sign up as a course?</li></a>
						</ul>
					</div>
					<br>
				</div>
				<div id="copyright" style="font-size: 10px; content: center; ">Copyright Â© 2017 Golfbuds. All rights reserved. <br> <a>Privacy Policy</a> | <a>Terms of Use</a> | <a>Legal</a>	| <a>Site Map</a>
				</div>				
			</footer>
			
			<script>// Get the modal
				var modal1 = document.getElementById("registerModal");
				// Get the button that opens the modal
				var btn1 = document.getElementById("registerSubmitButton");
				// Get the <span> element that closes the modal
				var span1 = document.getElementsByClassName("close")[0];
				// When the user clicks the button, open the modal
				btn1.onclick = function() {
					modal1.style.display = "block";
				}
				// When the user clicks on <span> (x), close the modal
				//span for the guest register also has code to close the modal with a span
				//on the span tag in the guestRegisterModal div
				span1.onclick = function() {
					modal1.style.display = "none";
				}
				// When the user clicks anywhere outside of the modal, close it
				window.onclick = function(event) {
					if (event.target == modal1) {
						modal1.style.display = "none";
					}
				}
			</script>

			<!--Scripts for data functionality-->
			<script>
				//Get value of cookie
				function getCookie(name){
					$(document).ready(function() {
						$.ajax({
								url: "php/get_cookie.php",
								type: "GET",
								success: function(ret) {
									 document.getElementById("email").value = ret["cookie"];
								},
								error: function(jqXHR, exception) {
									console.log(jqXHR);
								}
						  });
					});
				}

				//Checks if user is remembered.
				$(document).ready(function() {
					//Get form data
					var send = $("#loginForm").serialize();
					//Send to php file and handle return results in "ret"
					$.ajax({
							url: "php/cookie_check.php",
							type: "GET",
							success: function(ret) {
								if(ret["set"] === "true") {
									document.getElementById("email").value = getCookie("email");
									document.getElementById("checkbox").checked = true;
								} else {
									document.getElementById("email").value = "";
								}	
							},
							error: function(jqXHR, exception) {
								console.log(jqXHR);
							}
					  });
				});

				//Log user in
				$(document).ready(function() {
					$("#loginFormBut").click(function(event){
						event.preventDefault();
						var send = $("#loginForm").serialize();
						$.ajax({
							url: "php/login.php",
							type: "POST",
							data: send,
							success: function(ret) {
								if(ret["error"]) {
									var out = "";
									var arr = ret["error"];
									for(var i=0, len = arr.length; i<len; i++){
										out += " " + arr[i] + "\n";
									}
									alert(out);
								} else {
									window.location.href = "profile.html";
								}
							},
							error: function(jqXHR, exception) {
								console.log(jqXHR);
							}
						});
					});

				});

				//Register
				$(document).ready(function() {
					$("#submitRegisterButton").click(function(event){
						event.preventDefault();
						var send = $("#registerForm").serialize();
						send += "&" + $("#registerForm2").serialize();
						$.ajax({
							url: "php/insert_into.php",
							type: "POST",
							data: send,
							success: function(ret) {
								if(ret["error"]) {
									var out = "";
									var arr = ret["error"];
									for(var i=0, len = arr.length; i<len; i++){
										out += " " + arr[i] + "\n";
									}
									alert(out);
								} else {
									window.location.href = "index.html";
									alert("Registered!");
								}
							},
							error: function(jqXHR, exception) {
								console.log(jqXHR);
							}
						});
					});

				});

				//Password recovery
				$(document).ready(function() {
					$("#submitForgotPassButton").click(function(event){
						event.preventDefault();
						var send = $("#forgotPassForm").serialize();
						$.ajax({
							url: "php/forgot_pass.php",
							type: "POST",
							data: send,
							success: function(ret) {
								if(ret["msg"]) {
									var out = "";
									var arr = ret["msg"];
									for(var i=0, len = arr.length; i<len; i++){
										out += " " + arr[i] + "\n";
									}
									alert(out);
								} 
							},
							error: function(jqXHR, exception) {
								console.log(jqXHR);
							}
						});
					});

				});
			</script>
				
			<!-- logged in check-->
			<script>
				$.ajax({
					url: "php/check_login.php",
					type: "GET",
					success: function(ret) {
						var arr = ret["success"];
						if(arr == "true") {
							window.location.href = "profile.html";							
						}
					},
					error: function(jqXHR, exception) {
						console.log(jqXHR);
					}
				});
			</script>
		</div>
	</body>
</html>
